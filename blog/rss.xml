<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/">
    <channel>
        <title>Fonoster Blog</title>
        <link>https://learn.fonoster.dev/blog</link>
        <description>Fonoster Blog</description>
        <lastBuildDate>Wed, 05 Oct 2022 00:00:00 GMT</lastBuildDate>
        <docs>https://validator.w3.org/feed/docs/rss2.html</docs>
        <generator>https://github.com/jpmonette/feed</generator>
        <language>en</language>
        <item>
            <title><![CDATA[How we created an open-source alternative to Twilio and why it matters]]></title>
            <link>https://learn.fonoster.dev/blog/How we created an open-source alternative to Twilio and why it matters</link>
            <guid>How we created an open-source alternative to Twilio and why it matters</guid>
            <pubDate>Wed, 05 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[Last year, when I started assembling Team Fonoster, I published a post on Reddit that sparked a great conversation and placed Fonoster on Github's trending list even though we didn't have much to show.]]></description>
            <content:encoded><![CDATA[<p>Last year, when I started assembling Team Fonoster, I published a <a href="https://www.reddit.com/r/Entrepreneur/comments/j96avf/an_opensource_alternative_to_twilio/" target="_blank" rel="noopener noreferrer">post</a> on Reddit that sparked a great conversation and placed Fonoster on Github's trending list even though we didn't have much to show.</p><p>As a result, I had the opportunity to interview dozens of CTOs from companies worldwide and speak with several investors who were interested in the idea of an open-source stack of Programmable Telecommunications.</p><p>In the interviews, I found we need an innovative approach to a cloud-based stack for Programmable Telecommunications.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="why-we-needed-cpaas-in-the-first-place">Why we needed CPaaS in the first place?<a class="hash-link" href="#why-we-needed-cpaas-in-the-first-place" title="Direct link to heading">​</a></h2><p>Building an application that takes advantage of the existing Telecom network has always been a difficult task compared with, for example, building a web-based application.</p><p>This is difficult because it involves a particular set of skills that is challenging to find and can get really costly.</p><p>Let's face it, no one wants to read through dozens of RFCs to program a phone call.</p><p>So, when the API era arrived along with UCaaS and CPaaS providers, it was a no-brainer to use one of those providers to deploy a solution within weeks instead of spending months only to get a simple use-case.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="so-whats-wrong-with-traditional-cpaas">So what's wrong with traditional CPaaS?<a class="hash-link" href="#so-whats-wrong-with-traditional-cpaas" title="Direct link to heading">​</a></h2><p>There is nothing wrong with traditional CPaaS. In fact, in most cases, using a CPaaS is a great option to deploy a Telecommunications solution.</p><p>However, even though the concept of using a CPaaS to go to market quickly is fantastic, it comes at a high price for some use-cases. After all, if something goes wrong, you will have no other option but to migrate to another CPaaS or build your own solution and start again on square zero.</p><p>Some companies complain about the high prices for using a CPaaS. A startup CTO once told me, “It almost feels that we are paying for a lot of features we don't need.” This is because, with a traditional CPaaS, you start on a pay-as-you-go model, but costs can quickly get out of control.</p><p>Other companies find themselves limited by their providers' features because with traditional CPaaS you have no option but to use what they have available. There is no chance for customization. And even though that's not a problem for most companies, it is a deal-breaker for technology companies.</p><p>Then you have use-cases, especially in the healthcare industry, that can't benefit from using a traditional CPaaS due to privacy concerns and local regulations.</p><p>In which of those categories does your company fall?</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="how-can-we-make-this-better">How can we make this better?<a class="hash-link" href="#how-can-we-make-this-better" title="Direct link to heading">​</a></h2><p>The primary innovation of Fonoster lies in researching and developing the means for creating a highly portable, cloud-based Programmable Telecommunications stack.</p><p>This Programmable Telecommunications stack will allow businesses to call an API to dial, answer a call, establish a video session, send SMS, etc. There won't be any concern about what servers and networks are doing with that information in the background.</p><p>Our overall approach to building Fonoster is to use existing open-source solutions that are best in their class when possible and build our own when necessary. We then integrate this individual open-source software into a cohesive set of APIs that resembles a traditional CPaaS.</p><p>For example, to start a simple Voice Application one could write a Javascript code like the one below:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">const { VoiceServer } = require("@fonoster/voice");</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">const serverConfig = {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  pathToFiles: `${process.cwd()}/sounds`,</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">new VoiceServer(serverConfig).listen(</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  async (req, res) =&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    console.log(req);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    await res.answer();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    await res.play(`sound:${req.selfEndpoint}/sounds/hello-world.sln16`);</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    await res.hangup();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Or to make a call to the telephone network, you could use the SDK and write a simple script like this:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">const Fonoster = require("@fonoster/sdk");</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">const callManager = new Fonoster.CallManager();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">callManager.call({</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> from: "9842753574",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> to: "17853178070",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> webhook: "https://5a2d2ea5d84d.ngrok.io"</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">})</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">.then(console.log)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">.catch(console.error);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Want to create a reminders application? No problem, in few easy steps, you can create and deploy a Cloud Function that will run based on a given Cron schedule.</p><p>First, initialize your Cloud Function with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster funcs:init</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, edit the handler with the following code:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">const Fonoster = require("@fonoster/sdk");</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">const callManager = new Fonoster.CallManager();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// 🚀 Let's get started</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Use fonoster funcs:deploy to send to the cloud functions</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">module.exports = async(request, response) =&gt; {</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  await callManager.call({</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    from: "9842753589",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    to: "17853178070",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">    webhook: "https://5a2d2ea5d84d.ngrok.io"</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  })</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">  return response.succeed("OK");</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">};</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, deploy to the Cloud Functions subsystem with a Cron string.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster funcs:deploy --schedule "*/5 * * * *"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You get the idea.</p><blockquote><p>The Cloud Functions capability if offered by the integration with OpenFaaS (by Alex Ellis)</p></blockquote><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">​</a></h3><p>Be sure to check <a href="https://learn.fonoster.dev/blog/The%20essentials%20of%20building%20Voice%20Applications%20with%20Fonoster" target="_blank" rel="noopener noreferrer">The essentials of building Voice Applications with Fonoster</a> to overview the Programmable Voice features available on Project Fonoster. </p><p>Star the project on Github and contact us via:</p><ul><li>Twitter: <a href="https://twitter.com/fonoster" target="_blank" rel="noopener noreferrer">@fonoster</a></li><li>Email: <a href="mailto:fonosterteam@fonoster.com" target="_blank" rel="noopener noreferrer">fonosterteam@fonoster.com</a></li><li><a href="https://discord.com/invite/mpWSRUhG7e" target="_blank" rel="noopener noreferrer">Discord</a></li></ul>]]></content:encoded>
            <category>fonoster</category>
            <category>voice</category>
            <category>javascript</category>
        </item>
        <item>
            <title><![CDATA[Deploying Fonoster with Cloud-Init]]></title>
            <link>https://learn.fonoster.dev/blog/Deploying Fonoster with Cloud-Init</link>
            <guid>Deploying Fonoster with Cloud-Init</guid>
            <pubDate>Tue, 04 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[At Fonoster Inc, we want to help companies and individuals that wish to adopt Fonoster as their Programmable Telecommunications solution. To help archive this goal, our team uses Cloud-Init for cloud instance initialization.]]></description>
            <content:encoded><![CDATA[<p>At <a href="https://fonoster.com/" target="_blank" rel="noopener noreferrer">Fonoster Inc</a>, we want to help companies and individuals that wish to adopt Fonoster as their Programmable Telecommunications solution. To help archive this goal, our team uses Cloud-Init for cloud instance initialization.</p><p>You can deploy Fonoster to all major public cloud providers, private cloud infrastructure, and bare-metal installations with Cloud-Init.</p><p>In this tutorial, we will also use Multipass.</p><p>Multipass is a Canonical project that offers a lightweight VM manager for Linux, Windows, and macOS. With Multipass, you can deploy Fonoster on Ubuntu in a local environment in a single command. This deployment method is by far the fastest way to get started with Fonoster.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="requirements">Requirements<a class="hash-link" href="#requirements" title="Direct link to heading">​</a></h2><p>Before you start this tutorial, you will need the following:</p><ul><li><a href="https://multipass.run/" target="_blank" rel="noopener noreferrer">Multipass</a></li><li>NodeJS 14+ (Use nvm if possible)</li><li>Fonoster command-line tool (install with <code>npm install -g @fonoster/ctl</code>)</li></ul><h2 class="anchor anchorWithStickyNavbar_LWe7" id="deploying-to-multipass">Deploying to Multipass<a class="hash-link" href="#deploying-to-multipass" title="Direct link to heading">​</a></h2><blockquote><p>This method will not automatically enable TLS for you</p></blockquote><p>Deploy Fonoster to Multipass with the following steps. First, download the <a href="https://raw.githubusercontent.com/fonoster/fonoster/main/operator/cloud-config.txt" target="_blank" rel="noopener noreferrer">cloud-config.txt</a> file into a local directory with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">curl https://raw.githubusercontent.com/fonoster/fonoster/main/operator/cloud-config.txt -o cloud-config.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Since we are running locally, we have to modify the <code>cloud-config</code> to discover the private ipv4 instead of the public ipv4.</p><p>First, update <code>cloud-config</code> with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">sed -i.bak -e "s#publicv4#privatev4#g" "cloud-config.txt"</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, from the same directory, fire up Multipass.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">multipass launch --name fonoster --disk 8G --cpus 2 --mem 4G --cloud-init cloud-config.txt</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>You might see a <code>timed out waiting for initialization to complete</code>, especially in a slow Internet connection. Don't worry. The process will continue in the background.</p><p>You can access your VM and continue following the installation process with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">multipass shell fonoster</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">tail -f /var/log/cloud-init-output.log</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Once you see "Cloud init is done!" the process is complete. If everything goes well, you will be able to log in to your Fonoster deployment. To authenticate for the first time to your deployment, first get your admin credentials with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">cat /opt/fonoster/config/admin_credentials</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output will look like the one below.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">{</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   "accessKeyId": "admin",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">   "accessKeySecret": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, from the host machine, obtain your VM's IP with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">multipass info fonoster</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Look for the entry starting with IPv4.</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">Name:           fonoster</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">State:          Running</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">IPv4:           192.168.64.39</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                172.17.0.1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">                172.24.0.1</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">...</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>With the <code>accessKeyId</code>, <code>accessKeySecret</code>, and your VM's IP address, you can now login using the command-line tool or access your server with the SDK.</p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What's next?<a class="hash-link" href="#whats-next" title="Direct link to heading">​</a></h3><p>For more deployment options, be sure to check the <a href="https://github.com/fonoster/fonoster/blob/main/docs/operator/deploy-your-server.md" target="_blank" rel="noopener noreferrer">operator's section of Fonoster's documentation</a>. </p><p>Star the project on <a href="https://github.com/fonoster" target="_blank" rel="noopener noreferrer">Github</a> and contact us via:</p><ul><li>Twitter: <a href="https://twitter.com/intent/follow?screen_name=fonoster" target="_blank" rel="noopener noreferrer">@fonoster</a></li><li>Email: <a href="mailto:fonosterteam@fonoster.com" target="_blank" rel="noopener noreferrer">fonosterteam@fonoster.com</a></li><li><a href="https://discord.gg/mpWSRUhG7e" target="_blank" rel="noopener noreferrer">Discord</a></li></ul>]]></content:encoded>
            <category>fonoster</category>
            <category>voice</category>
            <category>javascript</category>
        </item>
        <item>
            <title><![CDATA[The essentials of building Voice Applications with Fonoster]]></title>
            <link>https://learn.fonoster.dev/blog/The essentials of building Voice Applications with Fonoster</link>
            <guid>The essentials of building Voice Applications with Fonoster</guid>
            <pubDate>Mon, 03 Oct 2022 00:00:00 GMT</pubDate>
            <description><![CDATA[The purpose of this tutorial is to show the basics of Fonoster. Here you will find how to create a Voice Application, add a Number, and then use that Number to originate a call. Please follow the guide in sequence, as each step builds on the last one.]]></description>
            <content:encoded><![CDATA[<p>The purpose of this tutorial is to show the basics of Fonoster. Here you will find how to create a Voice Application, add a Number, and then use that Number to originate a call. Please follow the guide in sequence, as each step builds on the last one.</p><h1>Requirements</h1><p>Before you start this guide, you will need the following:</p><ul><li>A set of credentials from <a href="https://console.fonoster.io/" target="_blank" rel="noopener noreferrer">here</a> 👈</li><li>An account for access to a SIP Service Provider (For US and Canada, we recommend <a href="https://voip.ms/residential" target="_blank" rel="noopener noreferrer">voip.ms</a>)</li><li>NodeJS 14+ (Use nvm if possible)</li><li>Fonoster command-line tool install with <code>npm install -g @fonoster/ctl</code></li><li>Ngrok <code>install with npm install -g ngrok</code></li></ul><p>You can login to the server with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster auth:login</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>And your output will be similar to:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">Access your Fonoster infrastructure</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Press ^C at any time to quit.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? api endpoint api.fonoster.io</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? access key id psanders</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? access key token *************************...</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? ready? Yes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Accessing endpoint api.fonoster.io... Done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Then, set the default Project: </p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain"># Get the PROJECT_ID of the project using the 'projects:list' command </span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster projects:use ${PROJECT_ID}</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h1>Creating a basic Voice Application</h1><p>A Voice Application is a server that takes control of the flow of a call. </p><p>A Voice Application can use any combination of the following verbs:</p><ul><li><code>Answer</code> - Accepts the call</li><li><code>Hangup</code> - Closes the call</li><li><code>Play</code> - It takes an URL or file and streams the sound back to the calling part</li><li><code>Say</code> - It takes a text, synthesizes the text into audio, and streams the result</li><li><code>Gather</code> - It waits for DTMF events and returns back the result</li><li><code>SGather</code> - It listen for a stream DTMF events and returns back the result</li><li><code>Record</code> - It records the voice of the calling party and saves the audio on the Storage sub-system</li><li><code>Mute</code> - It tells the channel to stop sending media, thus effectively muting the channel</li><li><code>Unmute</code> - It tells the channel to allow media flow</li></ul><p>To create a Voice Application perform the following steps.</p><p>First, clone the NodeJS example template as follows:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">git clone https://github.com/fonoster/nodejs-voiceapp</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, install the dependencies:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">cd nodejs-voiceapp</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">npm install</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, launch the Voice Application with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">npm start</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output will look like this:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">info: initializing voice server</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">info: starting voice server on @ 0.0.0.0, port=3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>Your app will live at <code>http://127.0.0.1:3000.</code> Be sure to leave the server up!</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-ngrok-to-publish-your-voice-application">Using Ngrok to publish your Voice Application<a class="hash-link" href="#using-ngrok-to-publish-your-voice-application" title="Direct link to heading">​</a></h2><p>Now that we have our Voice Application up and running, we need to make it available on the Internet——the fastest way to enable public access by using Ngrok. </p><p>For example, with ngrok, you can publish a web server with a single command.</p><p>On a new console, run Ngrok with the following command:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">ngrok http 3000</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output will look like this:</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/80093500/193677206-08190c5d-b1b1-4358-bd32-4b7d62dd99ef.png" alt="ngrok_output" class="img_ev3q"></p><p>Leave this service running, and save the Forwarding URL for use in the next step.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="building-a-sip-network">Building a SIP Network<a class="hash-link" href="#building-a-sip-network" title="Direct link to heading">​</a></h2><p>A SIP Network has all the building blocks needed to establish communication between two SIP endpoints (i.e., softphone, webphone, cellphone, the PSTN, etc.) We want to configure a Number and route the calls to our Voice Application on this guide.</p><p>Let's start by creating a SIP Service Provider.</p><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-sip-service-provider">Adding a SIP Service Provider<a class="hash-link" href="#adding-a-sip-service-provider" title="Direct link to heading">​</a></h2><p>A SIP Service Provider is an organization that will terminate your calls to the phone network (or PSTN). </p><p>You will need the <code>username</code>, <code>password</code>, and <code>host</code> you obtained from your SIP Service Provider for this section.</p><p>Create a new provider with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster providers:create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>The output will look similar to this:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">This utility will help you create a new Provider</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Press ^C at any time to quit.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? friendly name VOIPMS</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? username 215706</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? secret [hidden]</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? host newyork1.voip.ms</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? transport tcp</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? expire 300</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? ready? Yes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Creating provider YourServiceProvider... Done</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><h2 class="anchor anchorWithStickyNavbar_LWe7" id="adding-a-sip-number">Adding a SIP Number<a class="hash-link" href="#adding-a-sip-number" title="Direct link to heading">​</a></h2><p>A Number, often referred to as DID/DOD, is a number managed by your SIP Service provider.</p><blockquote><p>If your Provider doesn't accept E164, you can append the <code>--ignore-e164-validation</code></p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster numbers:create --ignore-e164-validation</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div></blockquote><p>Here is an example of the output:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">This utility will help you create a new Number</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Press ^C at any time to quit.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? number in E.164 format (e.g. +16471234567) 9842753574    </span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? service provider VOIPMS</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? aor link (leave empty)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? webhook https://5a2d2ea5d84d.ngrok.io # Replace with the value you obtained from Ngrok</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? ready? Yes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Creating number +17853178071... KyjgGEkasj</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p> Be sure to replace the information with what was given to you by your Provider.</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="creating-a-sip-domain">Creating a SIP Domain<a class="hash-link" href="#creating-a-sip-domain" title="Direct link to heading">​</a></h2><p>A SIP Domain is a space within the SIP Network where SIP entities live (usually SIP Agents). To create a SIP Domain, you can use the command-line tool or the SDK.</p><p>In this step, you need to select the Number you just created as your <code>Egreess Number</code>. Also, make sure to use an "unclaimed" <code>uri</code> or you will receive this error: "› Error: This Domain already exists."</p><p>Create a new Domain with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">fonoster domains:create</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Your output will look similar to this:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">This utility will help you create a new Domain</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Press ^C at any time to quit.</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? friendly name Acme Corp</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? domain uri (e.g acme.com) sip.acme.com</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? egress number none</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? egress rule .*</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">? ready? Yes</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">Creating domain Acme Corp... Jny9B_qaIh</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><blockquote><p>In the demo server, you don't need to own the Domain. Any available URI is fair game!</p></blockquote><h2 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-api-to-make-a-call">Using the API to make a call<a class="hash-link" href="#using-the-api-to-make-a-call" title="Direct link to heading">​</a></h2><p>To make a call, you need install the SDK.</p><p>Install the SDK, from within the <code>voiceapp</code>, with:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">npm install --save @fonoster/sdk </span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Next, create the script <code>call.js</code> with the following code:</p><div class="language-none codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#9CDCFE;--prism-background-color:#2a2a2a"><div class="codeBlockContent_biex"><pre tabindex="0" class="prism-code language-none codeBlock_bY9V thin-scrollbar"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#9CDCFE"><span class="token plain">// This will load the SDK and reuse your Fonoster credentials</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">const Fonoster = require("@fonoster/sdk");</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">const callManager = new Fonoster.CallManager();</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">// Few notes:</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">//  1. Update the from to look exactly as the Number you added </span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">//  2. Use an active phone or mobile</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">//  3. Replace the webhook with the one from your Ngrok</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">callManager.call({</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> from: "9842753574",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> to: "17853178070",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> webhook: "https://5a2d2ea5d84d.ngrok.io",</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain"> ignoreE164Validation: true</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">})</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">.then(console.log)</span><br></span><span class="token-line" style="color:#9CDCFE"><span class="token plain">.catch(console.error);</span><br></span></code></pre><div class="buttonGroup__atx"><button type="button" aria-label="Copy code to clipboard" title="Copy" class="clean-btn"><span class="copyButtonIcons_eSgA" aria-hidden="true"><svg class="copyButtonIcon_y97N" viewBox="0 0 24 24"><path d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z"></path></svg><svg class="copyButtonSuccessIcon_LjdS" viewBox="0 0 24 24"><path d="M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"></path></svg></span></button></div></div></div><p>Finally, run your script with: <code>node call.js</code></p><p>If everything goes well, you will start seeing the output in the console you are running your Voice Application. You will also receive a call that will stream a "Hello World," which further confirms that everything is behaving as it should.</p><p><img loading="lazy" src="https://user-images.githubusercontent.com/80093500/193678241-8be38da0-cb54-4b25-a4d3-7842a94baa00.png" alt="call_request" class="img_ev3q"></p><h3 class="anchor anchorWithStickyNavbar_LWe7" id="troubleshooting">Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">​</a></h3><ol><li>Are you not receiving the call at all?
The first thing to check is that your SIP Service Provider configuration is correct. Next, double-check the <code>username</code>, <code>password</code>, and <code>host</code>. If your Provider has an Admin console, check if you can see the registration from Fonoster.</li></ol><p>Next, make sure the <code>from</code> matches the Number given to you by your Provider.
Also, double-check the <code>to</code> has the correct prefix (for example, +1, etc.).</p><ol start="2"><li>You receive the call but immediately hang up (did not hear a sound)
First, verify that Ngrok is still running. Next, compare Ngrok's URL with the webhook on your Number. They both need to match!</li></ol><p>Then observe the console's output where your Voice Application is running, and see if there are any errors.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="giving-feedback-to-team-fonoster">Giving feedback to Team Fonoster<a class="hash-link" href="#giving-feedback-to-team-fonoster" title="Direct link to heading">​</a></h4><p>We want to provide you with the best possible experience. To do that, we need your valuable feedback. Because we know you are busy, we provide two ways to get quick feedback from you. From the command line, use the <code>fonoster bug</code> command to start a GitHub issue. Or, you can use the <code>fonoster feedback</code> command to complete a short survey (which takes less than 30 seconds).</p>]]></content:encoded>
            <category>fonoster</category>
            <category>voice</category>
        </item>
        <item>
            <title><![CDATA[Welcome]]></title>
            <link>https://learn.fonoster.dev/blog/welcome</link>
            <guid>welcome</guid>
            <pubDate>Wed, 01 Dec 2021 00:00:00 GMT</pubDate>
            <description><![CDATA[Welcome to Fonoster's blog section, if you want to contribute with a Tutorial or Guide let our team know via Discord,]]></description>
            <content:encoded><![CDATA[<p>Welcome to Fonoster's blog section, if you want to contribute with a Tutorial or Guide let our team know via <a href="https://discord.gg/mpWSRUhG7e" target="_blank" rel="noopener noreferrer">Discord</a>,
we always welcome new contributors.</p>]]></content:encoded>
            <category>fonoster</category>
            <category>voice</category>
        </item>
    </channel>
</rss>